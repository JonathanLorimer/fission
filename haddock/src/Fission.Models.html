<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-missing-export-lists #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE NoDeriveAnyClass     #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE QuasiQuotes          #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TemplateHaskell      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Fission.Models</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Database.Persist.Postgresql</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Database.Persist.TH</span></span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.Swagger</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Data.UUID</span></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.IPFS.CID.Types</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Network.IPFS.Bytes.Types</span></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Fission.Internal.UTF8.html"><span class="hs-identifier">Fission.Internal.UTF8</span></a></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">UTF8</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Prelude.html"><span class="hs-identifier">Fission.Prelude</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Platform.Heroku.Region.Types.html"><span class="hs-identifier">Fission.Platform.Heroku.Region.Types</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Security.html"><span class="hs-identifier">Fission.Security</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Fission.Key.html"><span class="hs-identifier">Fission.Key</span></a></span><span>                          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Key</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Crypto.PubKey.RSA</span></span><span>                    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">RSA</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.URL.html"><span class="hs-identifier">Fission.URL</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.User.Email.Types.html"><span class="hs-identifier">Fission.User.Email.Types</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.User.Role.Types.html"><span class="hs-identifier">Fission.User.Role.Types</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.User.Username.Types.html"><span class="hs-identifier">Fission.User.Username.Types</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Challenge.Types.html"><span class="hs-identifier">Fission.Challenge.Types</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Fission.AWS.Zone.Types.html"><span class="hs-identifier">Fission.AWS.Zone.Types</span></a></span><span>               </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AWS</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Internal.Orphanage.Bytes.html"><span class="hs-identifier">Fission.Internal.Orphanage.Bytes</span></a></span><span>     </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Internal.Orphanage.CID.html"><span class="hs-identifier">Fission.Internal.Orphanage.CID</span></a></span><span>            </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Internal.Orphanage.UUID.html"><span class="hs-identifier">Fission.Internal.Orphanage.UUID</span></a></span><span>           </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Fission.Internal.Orphanage.RSA2048.Public.html"><span class="hs-identifier">Fission.Internal.Orphanage.RSA2048.Public</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span id="migrateAll"><span id="HerokuAddOnModifiedAt"><span id="HerokuAddOnInsertedAt"><span id="HerokuAddOnRegion"><span id="HerokuAddOnUuid"><span id="HerokuAddOnId"><span id="%24sel%3AunHerokuAddOnKey%3AHerokuAddOnKey"><span id="HerokuAddOnKey"><span id="UniqueUUID"><span id="UserModifiedAt"><span id="UserInsertedAt"><span id="UserSecretDigest"><span id="UserHerokuAddOnId"><span id="UserDataRootSize"><span id="UserDataRoot"><span id="UserVerified"><span id="UserActive"><span id="UserRole"><span id="UserUsername"><span id="UserEmail"><span id="UserExchangeKeys"><span id="UserPublicKey"><span id="UserId"><span id="%24sel%3AunUserKey%3AUserKey"><span id="UserKey"><span id="UniquePublicKey"><span id="UniqueUsername"><span id="UserChallengeHash"><span id="UserChallengeUserId"><span id="UserChallengeId"><span id="%24sel%3AunUserChallengeKey%3AUserChallengeKey"><span id="UserChallengeKey"><span id="UniqueChallenge"><span id="UniqueUserId"><span id="UpdateUserDataRootEventInsertedAt"><span id="UpdateUserDataRootEventNewDataRootSize"><span id="UpdateUserDataRootEventNewDataRoot"><span id="UpdateUserDataRootEventUserId"><span id="UpdateUserDataRootEventId"><span id="%24sel%3AunUpdateUserDataRootEventKey%3AUpdateUserDataRootEventKey"><span id="UpdateUserDataRootEventKey"><span id="LoosePinInsertedAt"><span id="LoosePinCid"><span id="LoosePinOwnerId"><span id="LoosePinId"><span id="%24sel%3AunLoosePinKey%3ALoosePinKey"><span id="LoosePinKey"><span id="UniqueCidPerUser"><span id="DomainModifiedAt"><span id="DomainInsertedAt"><span id="DomainZoneId"><span id="DomainOwnerId"><span id="DomainDomainName"><span id="DomainId"><span id="%24sel%3AunDomainKey%3ADomainKey"><span id="DomainKey"><span id="UniqueZoneId"><span id="AppModifiedAt"><span id="AppInsertedAt"><span id="AppSize"><span id="AppCid"><span id="AppOwnerId"><span id="AppId"><span id="%24sel%3AunAppKey%3AAppKey"><span id="AppKey"><span id="CreateAppEventInsertedAt"><span id="CreateAppEventSize"><span id="CreateAppEventCid"><span id="CreateAppEventOwnerId"><span id="CreateAppEventAppId"><span id="CreateAppEventId"><span id="%24sel%3AunCreateAppEventKey%3ACreateAppEventKey"><span id="CreateAppEventKey"><span id="DestroyAppEventInsertedAt"><span id="DestroyAppEventAppId"><span id="DestroyAppEventId"><span id="%24sel%3AunDestroyAppEventKey%3ADestroyAppEventKey"><span id="DestroyAppEventKey"><span id="SetAppCIDEventInsertedAt"><span id="SetAppCIDEventNewCIDSize"><span id="SetAppCIDEventNewCID"><span id="SetAppCIDEventAppId"><span id="SetAppCIDEventId"><span id="%24sel%3AunSetAppCIDEventKey%3ASetAppCIDEventKey"><span id="SetAppCIDEventKey"><span id="AppDomainInsertedAt"><span id="AppDomainIsPrimary"><span id="AppDomainSubdomain"><span id="AppDomainDomainName"><span id="AppDomainAppId"><span id="AppDomainId"><span id="%24sel%3AunAppDomainKey%3AAppDomainKey"><span id="AppDomainKey"><span id="UniqueSubdomainPerDomain"><span id="UniquePrimaryForApp"><span id="AssociateAppDomainEventInsertedAt"><span id="AssociateAppDomainEventSubdomain"><span id="AssociateAppDomainEventDomainName"><span id="AssociateAppDomainEventAppId"><span id="AssociateAppDomainEventId"><span id="%24sel%3AunAssociateAppDomainEventKey%3AAssociateAppDomainEventKey"><span id="AssociateAppDomainEventKey"><span id="DissociateAppDomainEventInsertedAt"><span id="DissociateAppDomainEventSubdomain"><span id="DissociateAppDomainEventDomainName"><span id="DissociateAppDomainEventAppId"><span id="DissociateAppDomainEventId"><span id="%24sel%3AunDissociateAppDomainEventKey%3ADissociateAppDomainEventKey"><span id="DissociateAppDomainEventKey"><span id="%24sel%3AherokuAddOnModifiedAt%3AHerokuAddOn"><span id="%24sel%3AherokuAddOnInsertedAt%3AHerokuAddOn"><span id="%24sel%3AherokuAddOnRegion%3AHerokuAddOn"><span id="%24sel%3AherokuAddOnUuid%3AHerokuAddOn"><span id="HerokuAddOn"><span id="HerokuAddOnId"><span id="%24sel%3AuserModifiedAt%3AUser"><span id="%24sel%3AuserInsertedAt%3AUser"><span id="%24sel%3AuserSecretDigest%3AUser"><span id="%24sel%3AuserHerokuAddOnId%3AUser"><span id="%24sel%3AuserDataRootSize%3AUser"><span id="%24sel%3AuserDataRoot%3AUser"><span id="%24sel%3AuserVerified%3AUser"><span id="%24sel%3AuserActive%3AUser"><span id="%24sel%3AuserRole%3AUser"><span id="%24sel%3AuserUsername%3AUser"><span id="%24sel%3AuserEmail%3AUser"><span id="%24sel%3AuserExchangeKeys%3AUser"><span id="%24sel%3AuserPublicKey%3AUser"><span id="User"><span id="UserId"><span id="%24sel%3AuserChallengeHash%3AUserChallenge"><span id="%24sel%3AuserChallengeUserId%3AUserChallenge"><span id="UserChallenge"><span id="UserChallengeId"><span id="%24sel%3AupdateUserDataRootEventInsertedAt%3AUpdateUserDataRootEvent"><span id="%24sel%3AupdateUserDataRootEventNewDataRootSize%3AUpdateUserDataRootEvent"><span id="%24sel%3AupdateUserDataRootEventNewDataRoot%3AUpdateUserDataRootEvent"><span id="%24sel%3AupdateUserDataRootEventUserId%3AUpdateUserDataRootEvent"><span id="UpdateUserDataRootEvent"><span id="UpdateUserDataRootEventId"><span id="%24sel%3AloosePinInsertedAt%3ALoosePin"><span id="%24sel%3AloosePinCid%3ALoosePin"><span id="%24sel%3AloosePinOwnerId%3ALoosePin"><span id="LoosePin"><span id="LoosePinId"><span id="%24sel%3AdomainModifiedAt%3ADomain"><span id="%24sel%3AdomainInsertedAt%3ADomain"><span id="%24sel%3AdomainZoneId%3ADomain"><span id="%24sel%3AdomainOwnerId%3ADomain"><span id="%24sel%3AdomainDomainName%3ADomain"><span id="Domain"><span id="DomainId"><span id="%24sel%3AappModifiedAt%3AApp"><span id="%24sel%3AappInsertedAt%3AApp"><span id="%24sel%3AappSize%3AApp"><span id="%24sel%3AappCid%3AApp"><span id="%24sel%3AappOwnerId%3AApp"><span id="App"><span id="AppId"><span id="%24sel%3AcreateAppEventInsertedAt%3ACreateAppEvent"><span id="%24sel%3AcreateAppEventSize%3ACreateAppEvent"><span id="%24sel%3AcreateAppEventCid%3ACreateAppEvent"><span id="%24sel%3AcreateAppEventOwnerId%3ACreateAppEvent"><span id="%24sel%3AcreateAppEventAppId%3ACreateAppEvent"><span id="CreateAppEvent"><span id="CreateAppEventId"><span id="%24sel%3AdestroyAppEventInsertedAt%3ADestroyAppEvent"><span id="%24sel%3AdestroyAppEventAppId%3ADestroyAppEvent"><span id="DestroyAppEvent"><span id="DestroyAppEventId"><span id="%24sel%3AsetAppCIDEventInsertedAt%3ASetAppCIDEvent"><span id="%24sel%3AsetAppCIDEventNewCIDSize%3ASetAppCIDEvent"><span id="%24sel%3AsetAppCIDEventNewCID%3ASetAppCIDEvent"><span id="%24sel%3AsetAppCIDEventAppId%3ASetAppCIDEvent"><span id="SetAppCIDEvent"><span id="SetAppCIDEventId"><span id="%24sel%3AappDomainInsertedAt%3AAppDomain"><span id="%24sel%3AappDomainIsPrimary%3AAppDomain"><span id="%24sel%3AappDomainSubdomain%3AAppDomain"><span id="%24sel%3AappDomainDomainName%3AAppDomain"><span id="%24sel%3AappDomainAppId%3AAppDomain"><span id="AppDomain"><span id="AppDomainId"><span id="%24sel%3AassociateAppDomainEventInsertedAt%3AAssociateAppDomainEvent"><span id="%24sel%3AassociateAppDomainEventSubdomain%3AAssociateAppDomainEvent"><span id="%24sel%3AassociateAppDomainEventDomainName%3AAssociateAppDomainEvent"><span id="%24sel%3AassociateAppDomainEventAppId%3AAssociateAppDomainEvent"><span id="AssociateAppDomainEvent"><span id="AssociateAppDomainEventId"><span id="%24sel%3AdissociateAppDomainEventInsertedAt%3ADissociateAppDomainEvent"><span id="%24sel%3AdissociateAppDomainEventSubdomain%3ADissociateAppDomainEvent"><span id="%24sel%3AdissociateAppDomainEventDomainName%3ADissociateAppDomainEvent"><span id="%24sel%3AdissociateAppDomainEventAppId%3ADissociateAppDomainEvent"><span id="DissociateAppDomainEvent"><span id="DissociateAppDomainEventId"><span id="local-6989586621680306275"><span id="local-6989586621680306277"><span id="local-6989586621680306279"><span id="local-6989586621680306282"><span id="local-6989586621680306284"><span id="local-6989586621680306286"><span id="local-6989586621680306288"><span id="local-6989586621680306290"><span id="local-6989586621680306292"><span id="local-6989586621680306294"><span id="local-6989586621680306296"><span id="local-6989586621680306298"><span id="local-6989586621680306300"><span id="local-6989586621680306302"><span id="local-6989586621680306311"><span id="local-6989586621680306313"><span id="local-6989586621680306318"><span id="local-6989586621680306321"><span id="local-6989586621680306324"><span id="local-6989586621680306329"><span id="local-6989586621680306331"><span id="local-6989586621680306333"><span id="local-6989586621680306336"><span id="local-6989586621680306338"><span id="local-6989586621680306340"><span id="local-6989586621680306342"><span id="local-6989586621680306344"><span id="local-6989586621680306346"><span id="local-6989586621680306348"><span id="local-6989586621680306350"><span id="local-6989586621680306352"><span id="local-6989586621680306354"><span id="local-6989586621680306356"><span id="local-6989586621680306365"><span id="local-6989586621680306367"><span id="local-6989586621680306372"><span id="local-6989586621680306375"><span id="local-6989586621680306378"><span id="local-6989586621680306383"><span id="local-6989586621680306385"><span id="local-6989586621680306387"><span id="local-6989586621680306390"><span id="local-6989586621680306392"><span id="local-6989586621680306394"><span id="local-6989586621680306396"><span id="local-6989586621680306398"><span id="local-6989586621680306400"><span id="local-6989586621680306402"><span id="local-6989586621680306404"><span id="local-6989586621680306406"><span id="local-6989586621680306408"><span id="local-6989586621680306410"><span id="local-6989586621680306419"><span id="local-6989586621680306421"><span id="local-6989586621680306426"><span id="local-6989586621680306429"><span id="local-6989586621680306432"><span id="local-6989586621680306437"><span id="local-6989586621680306439"><span id="local-6989586621680306441"><span id="local-6989586621680306444"><span id="local-6989586621680306446"><span id="local-6989586621680306448"><span id="local-6989586621680306450"><span id="local-6989586621680306452"><span id="local-6989586621680306454"><span id="local-6989586621680306456"><span id="local-6989586621680306458"><span id="local-6989586621680306460"><span id="local-6989586621680306462"><span id="local-6989586621680306464"><span id="local-6989586621680306473"><span id="local-6989586621680306475"><span id="local-6989586621680306480"><span id="local-6989586621680306483"><span id="local-6989586621680306486"><span id="local-6989586621680306491"><span id="local-6989586621680306493"><span id="local-6989586621680306495"><span id="local-6989586621680306498"><span id="local-6989586621680306500"><span id="local-6989586621680306502"><span id="local-6989586621680306504"><span id="local-6989586621680306506"><span id="local-6989586621680306508"><span id="local-6989586621680306510"><span id="local-6989586621680306512"><span id="local-6989586621680306514"><span id="local-6989586621680306516"><span id="local-6989586621680306518"><span id="local-6989586621680306527"><span id="local-6989586621680306529"><span id="local-6989586621680306534"><span id="local-6989586621680306537"><span id="local-6989586621680306540"><span id="local-6989586621680306545"><span id="local-6989586621680306547"><span id="local-6989586621680306549"><span id="local-6989586621680306552"><span id="local-6989586621680306555"><span id="local-6989586621680306558"><span id="local-6989586621680306563"><span id="local-6989586621680306565"><span id="local-6989586621680306567"><span id="local-6989586621680306569"><span id="local-6989586621680306571"><span id="local-6989586621680306573"><span id="local-6989586621680306575"><span id="local-6989586621680306577"><span id="local-6989586621680306579"><span id="local-6989586621680306581"><span id="local-6989586621680306583"><span id="local-6989586621680306592"><span id="local-6989586621680306594"><span id="local-6989586621680306596"><span id="local-6989586621680306599"><span id="local-6989586621680306601"><span id="local-6989586621680306603"><span id="local-6989586621680306605"><span id="local-6989586621680306607"><span id="local-6989586621680306609"><span id="local-6989586621680306611"><span id="local-6989586621680306613"><span id="local-6989586621680306615"><span id="local-6989586621680306617"><span id="local-6989586621680306619"><span id="local-6989586621680306628"><span id="local-6989586621680306630"><span id="local-6989586621680306635"><span id="local-6989586621680306638"><span id="local-6989586621680306641"><span id="local-6989586621680306646"><span id="local-6989586621680306648"><span id="local-6989586621680306650"><span id="local-6989586621680306653"><span id="local-6989586621680306655"><span id="local-6989586621680306657"><span id="local-6989586621680306659"><span id="local-6989586621680306661"><span id="local-6989586621680306663"><span id="local-6989586621680306665"><span id="local-6989586621680306667"><span id="local-6989586621680306669"><span id="local-6989586621680306671"><span id="local-6989586621680306673"><span id="local-6989586621680306682"><span id="local-6989586621680306684"><span id="local-6989586621680306689"><span id="local-6989586621680306692"><span id="local-6989586621680306695"><span id="local-6989586621680306700"><span id="local-6989586621680306702"><span id="local-6989586621680306704"><span id="local-6989586621680306707"><span id="local-6989586621680306709"><span id="local-6989586621680306711"><span id="local-6989586621680306713"><span id="local-6989586621680306715"><span id="local-6989586621680306717"><span id="local-6989586621680306719"><span id="local-6989586621680306721"><span id="local-6989586621680306723"><span id="local-6989586621680306725"><span id="local-6989586621680306727"><span id="local-6989586621680306736"><span id="local-6989586621680306738"><span id="local-6989586621680306743"><span id="local-6989586621680306746"><span id="local-6989586621680306749"><span id="local-6989586621680306754"><span id="local-6989586621680306756"><span id="local-6989586621680306758"><span id="local-6989586621680306761"><span id="local-6989586621680306763"><span id="local-6989586621680306765"><span id="local-6989586621680306767"><span id="local-6989586621680306769"><span id="local-6989586621680306771"><span id="local-6989586621680306773"><span id="local-6989586621680306775"><span id="local-6989586621680306777"><span id="local-6989586621680306779"><span id="local-6989586621680306781"><span id="local-6989586621680306790"><span id="local-6989586621680306792"><span id="local-6989586621680306797"><span id="local-6989586621680306800"><span id="local-6989586621680306803"><span id="local-6989586621680306808"><span id="local-6989586621680306810"><span id="local-6989586621680306812"><span id="local-6989586621680306815"><span id="local-6989586621680306817"><span id="local-6989586621680306819"><span id="local-6989586621680306821"><span id="local-6989586621680306823"><span id="local-6989586621680306825"><span id="local-6989586621680306827"><span id="local-6989586621680306829"><span id="local-6989586621680306831"><span id="local-6989586621680306833"><span id="local-6989586621680306835"><span id="local-6989586621680306844"><span id="local-6989586621680306846"><span id="local-6989586621680306851"><span id="local-6989586621680306854"><span id="local-6989586621680306857"><span id="local-6989586621680306862"><span id="local-6989586621680306864"><span id="local-6989586621680306866"><span id="local-6989586621680306869"><span id="local-6989586621680306871"><span id="local-6989586621680306873"><span id="local-6989586621680306875"><span id="local-6989586621680306877"><span id="local-6989586621680306879"><span id="local-6989586621680306881"><span id="local-6989586621680306883"><span id="local-6989586621680306885"><span id="local-6989586621680306887"><span id="local-6989586621680306889"><span id="local-6989586621680306898"><span id="local-6989586621680306900"><span id="local-6989586621680306905"><span id="local-6989586621680306908"><span id="local-6989586621680306911"><span id="local-6989586621680306916"><span id="local-6989586621680306918"><span id="local-6989586621680306920"><span id="local-6989586621680306923"><span id="local-6989586621680306925"><span id="local-6989586621680306927"><span id="local-6989586621680306929"><span id="local-6989586621680306931"><span id="local-6989586621680306933"><span id="local-6989586621680306935"><span id="local-6989586621680306937"><span id="local-6989586621680306939"><span id="local-6989586621680306941"><span id="local-6989586621680306943"><span id="local-6989586621680306952"><span id="local-6989586621680306954"><span id="local-6989586621680306959"><span id="local-6989586621680306962"><span id="local-6989586621680306965"><span id="local-6989586621680306970"><span id="local-6989586621680306972"><span id="local-6989586621680306974"><span id="local-6989586621680306976"><span id="local-6989586621680306978"><span id="local-6989586621680306980"><span id="local-6989586621680306982"><span id="local-6989586621680306984"><span id="local-6989586621680306986"><span id="local-6989586621680306988"><span id="local-6989586621680306990"><span id="local-6989586621680306992"><span id="local-6989586621680306994"><span id="local-6989586621680306996"><span id="local-6989586621680306998"><span id="local-6989586621680307000"><span id="local-6989586621680307002"><span id="local-6989586621680307004"><span id="local-6989586621680307006"><span id="local-6989586621680307008"><span id="local-6989586621680307010"><span id="local-6989586621680307012"><span id="local-6989586621680307014"><span id="local-6989586621680307016"><span id="local-6989586621680307018"><span id="local-6989586621680307020"><span id="local-6989586621680307022"><span id="local-6989586621680307024"><span id="local-6989586621680307026"><span id="local-6989586621680307028"><span id="local-6989586621680307030"><span id="local-6989586621680307032"><span id="local-6989586621680307034"><span id="local-6989586621680307036"><span id="local-6989586621680307038"><span id="local-6989586621680307040"><span id="local-6989586621680307042"><span id="local-6989586621680307044"><span id="local-6989586621680307046"><span id="local-6989586621680307048"><span id="local-6989586621680307050"><span id="local-6989586621680307052"><span id="local-6989586621680307054"><span id="local-6989586621680307056"><span id="local-6989586621680307058"><span id="local-6989586621680307060"><span id="local-6989586621680307062"><span id="local-6989586621680307064"><span id="local-6989586621680307066"><span id="local-6989586621680307068"><span id="local-6989586621680307070"><span id="local-6989586621680307072"><span id="local-6989586621680307074"><span id="local-6989586621680307076"><span id="local-6989586621680307078"><span id="local-6989586621680307080"><span id="local-6989586621680307082"><span id="local-6989586621680307084"><span id="local-6989586621680307086"><span id="local-6989586621680307088"><span id="local-6989586621680307090"><span id="local-6989586621680307092"><span id="local-6989586621680307094"><span id="local-6989586621680307096"><span id="local-6989586621680307098"><span id="local-6989586621680307100"><span id="local-6989586621680307102"><span id="local-6989586621680307104"><span id="local-6989586621680307106"><span id="local-6989586621680307108"><span id="local-6989586621680307110"><span id="local-6989586621680307112"><span id="local-6989586621680307115"><span id="local-6989586621680307117"><span id="local-6989586621680307119"><span id="local-6989586621680307121"><span id="local-6989586621680307123"><span id="local-6989586621680307125"><span id="local-6989586621680307127"><span id="local-6989586621680307129"><span id="local-6989586621680307131"><span id="local-6989586621680307133"><span id="local-6989586621680307135"><span id="local-6989586621680307137"><span id="local-6989586621680307139"><span id="local-6989586621680307141"><span id="local-6989586621680307143"><span id="local-6989586621680307145"><span id="local-6989586621680307147"><span id="local-6989586621680307149"><span id="local-6989586621680307152"><span id="local-6989586621680307154"><span id="local-6989586621680307156"><span id="local-6989586621680307158"><span id="local-6989586621680307160"><span id="local-6989586621680307162"><span id="local-6989586621680307164"><span id="local-6989586621680307166"><span id="local-6989586621680307168"><span id="local-6989586621680307170"><span id="local-6989586621680307172"><span id="local-6989586621680307174"><span id="local-6989586621680307176"><span id="local-6989586621680307178"><span id="local-6989586621680307180"><span id="local-6989586621680307182"><span id="local-6989586621680307184"><span id="local-6989586621680307186"><span id="local-6989586621680307188"><span id="local-6989586621680307191"><span id="local-6989586621680307193"><span id="local-6989586621680307195"><span id="local-6989586621680307197"><span id="local-6989586621680307199"><span id="local-6989586621680307201"><span id="local-6989586621680307203"><span id="local-6989586621680307205"><span id="local-6989586621680307207"><span id="local-6989586621680307209"><span id="local-6989586621680307211"><span id="local-6989586621680307213"><span id="local-6989586621680307215"><span id="local-6989586621680307217"><span id="local-6989586621680307219"><span id="local-6989586621680307221"><span id="local-6989586621680307223"><span id="local-6989586621680307225"><span id="local-6989586621680307228"><span id="local-6989586621680307230"><span id="local-6989586621680307232"><span id="local-6989586621680307234"><span id="local-6989586621680307236"><span id="local-6989586621680307238"><span id="local-6989586621680307240"><span id="local-6989586621680307242"><span id="local-6989586621680307244"><span id="local-6989586621680307246"><span id="local-6989586621680307248"><span id="local-6989586621680307250"><span id="local-6989586621680307252"><span id="local-6989586621680307254"><span id="local-6989586621680307256"><span id="local-6989586621680307258"><span id="local-6989586621680307260"><span id="local-6989586621680307262"><span id="local-6989586621680307264"><span id="local-6989586621680307267"><span id="local-6989586621680307269"><span id="local-6989586621680307271"><span id="local-6989586621680307273"><span id="local-6989586621680307275"><span id="local-6989586621680307277"><span id="local-6989586621680307279"><span id="local-6989586621680307281"><span id="local-6989586621680307283"><span id="local-6989586621680307285"><span id="local-6989586621680307287"><span id="local-6989586621680307289"><span id="local-6989586621680307291"><span id="local-6989586621680307293"><span id="local-6989586621680307295"><span id="local-6989586621680307297"><span id="local-6989586621680307299"><span id="local-6989586621680307301"><span id="local-6989586621680307304"><span id="local-6989586621680307306"><span id="local-6989586621680307308"><span id="local-6989586621680307310"><span id="local-6989586621680307312"><span id="local-6989586621680307314"><span id="local-6989586621680307316"><span id="local-6989586621680307318"><span id="local-6989586621680307320"><span id="local-6989586621680307322"><span id="local-6989586621680307324"><span id="local-6989586621680307326"><span id="local-6989586621680307328"><span id="local-6989586621680307330"><span id="local-6989586621680307332"><span id="local-6989586621680307334"><span id="local-6989586621680307336"><span id="local-6989586621680307338"><span id="local-6989586621680307340"><span id="local-6989586621680307343"><span id="local-6989586621680307345"><span id="local-6989586621680307347"><span id="local-6989586621680307349"><span id="local-6989586621680307351"><span id="local-6989586621680307353"><span id="local-6989586621680307355"><span id="local-6989586621680307357"><span id="local-6989586621680307359"><span id="local-6989586621680307361"><span id="local-6989586621680307363"><span id="local-6989586621680307365"><span id="local-6989586621680307367"><span id="local-6989586621680307369"><span id="local-6989586621680307371"><span id="local-6989586621680307373"><span id="local-6989586621680307375"><span id="local-6989586621680307377"><span id="local-6989586621680307380"><span id="local-6989586621680307382"><span id="local-6989586621680307384"><span id="local-6989586621680307386"><span id="local-6989586621680307388"><span id="local-6989586621680307390"><span id="local-6989586621680307392"><span id="local-6989586621680307394"><span id="local-6989586621680307396"><span id="local-6989586621680307398"><span id="local-6989586621680307400"><span id="local-6989586621680307402"><span id="local-6989586621680307404"><span id="local-6989586621680307406"><span id="local-6989586621680307408"><span id="local-6989586621680307410"><span id="local-6989586621680307413"><span id="local-6989586621680307415"><span id="local-6989586621680307417"><span id="local-6989586621680307419"><span id="local-6989586621680307421"><span id="local-6989586621680307423"><span id="local-6989586621680307425"><span id="local-6989586621680307427"><span id="local-6989586621680307429"><span id="local-6989586621680307431"><span id="local-6989586621680307433"><span id="local-6989586621680307435"><span id="local-6989586621680307437"><span id="local-6989586621680307439"><span id="local-6989586621680307441"><span id="local-6989586621680307443"><span id="local-6989586621680307445"><span id="local-6989586621680307447"><span id="local-6989586621680307450"><span id="local-6989586621680307452"><span id="local-6989586621680307454"><span id="local-6989586621680307456"><span id="local-6989586621680307458"><span id="local-6989586621680307460"><span id="local-6989586621680307462"><span id="local-6989586621680307464"><span id="local-6989586621680307466"><span id="local-6989586621680307468"><span id="local-6989586621680307470"><span id="local-6989586621680307472"><span id="local-6989586621680307474"><span id="local-6989586621680307476"><span id="local-6989586621680307478"><span id="local-6989586621680307480"><span id="local-6989586621680307482"><span id="local-6989586621680307484"><span id="local-6989586621680307486"><span id="local-6989586621680307489"><span id="local-6989586621680307491"><span id="local-6989586621680307493"><span id="local-6989586621680307495"><span id="local-6989586621680307497"><span id="local-6989586621680307499"><span id="local-6989586621680307501"><span id="local-6989586621680307503"><span id="local-6989586621680307505"><span id="local-6989586621680307507"><span id="local-6989586621680307509"><span id="local-6989586621680307511"><span id="local-6989586621680307513"><span id="local-6989586621680307515"><span id="local-6989586621680307517"><span id="local-6989586621680307519"><span id="local-6989586621680307521"><span id="local-6989586621680307523"><span id="local-6989586621680307526"><span id="local-6989586621680307528"><span id="local-6989586621680307530"><span id="local-6989586621680307532"><span id="local-6989586621680307534"><span id="local-6989586621680307536"><span id="local-6989586621680307538"><span id="local-6989586621680307540"><span id="local-6989586621680307542"><span id="local-6989586621680307544"><span id="local-6989586621680307546"><span id="local-6989586621680307548"><span id="local-6989586621680307550"><span id="local-6989586621680307552"><span id="local-6989586621680307554"><span id="local-6989586621680307556"><span id="local-6989586621680307558"><span id="local-6989586621680307560"><span id="local-6989586621680307562"><span id="local-6989586621680307565"><span id="local-6989586621680307567"><span id="local-6989586621680307569"><span id="local-6989586621680307571"><span id="local-6989586621680307573"><span id="local-6989586621680307575"><span id="local-6989586621680307577"><span id="local-6989586621680307579"><span id="local-6989586621680307581"><span id="local-6989586621680307583"><span id="local-6989586621680307585"><span id="local-6989586621680307587"><span id="local-6989586621680307589"><span id="local-6989586621680307591"><span id="local-6989586621680307593"><span id="local-6989586621680307595"><span id="local-6989586621680307597"><span id="local-6989586621680307599"><span id="local-6989586621680307602"><span id="local-6989586621680307604"><span id="local-6989586621680307606"><span id="local-6989586621680307608"><span id="local-6989586621680307610"><span id="local-6989586621680307612"><span id="local-6989586621680307614"><span id="local-6989586621680307616"><span id="local-6989586621680307618"><span id="local-6989586621680307620"><span id="local-6989586621680307622"><span id="local-6989586621680307624"><span id="local-6989586621680307626"><span id="local-6989586621680307628"><span id="local-6989586621680307630"><span id="local-6989586621680307632"><span id="local-6989586621680307635"><span id="local-6989586621680307637"><span id="local-6989586621680307639"><span id="local-6989586621680307641"><span id="local-6989586621680307643"><span id="local-6989586621680307645"><span id="local-6989586621680307647"><span id="local-6989586621680307649"><span id="local-6989586621680307651"><span id="local-6989586621680307653"><span id="local-6989586621680307655"><span id="local-6989586621680307657"><span id="local-6989586621680307659"><span id="local-6989586621680307661"><span id="local-6989586621680307663"><span id="local-6989586621680307665"><span id="local-6989586621680307667"><span id="local-6989586621680307669"><span id="local-6989586621680307672"><span id="local-6989586621680307674"><span id="local-6989586621680307676"><span id="local-6989586621680307678"><span id="local-6989586621680307680"><span id="local-6989586621680307682"><span id="local-6989586621680307684"><span id="local-6989586621680307686"><span id="local-6989586621680307688"><span id="local-6989586621680307690"><span id="local-6989586621680307692"><span id="local-6989586621680307694"><span id="local-6989586621680307696"><span id="local-6989586621680307698"><span id="local-6989586621680307700"><span id="local-6989586621680307702"><span id="local-6989586621680307705"><span id="local-6989586621680307707"><span id="local-6989586621680307709"><span id="local-6989586621680307711"><span id="local-6989586621680307713"><span id="local-6989586621680307715"><span id="local-6989586621680307717"><span id="local-6989586621680307719"><span id="local-6989586621680307721"><span id="local-6989586621680307723"><span id="local-6989586621680307725"><span id="local-6989586621680307727"><span id="local-6989586621680307729"><span id="local-6989586621680307731"><span id="local-6989586621680307733"><span id="local-6989586621680307735"><span id="local-6989586621680307737"><span id="local-6989586621680307739"><span id="local-6989586621680307742"><span id="local-6989586621680307744"><span id="local-6989586621680307746"><span id="local-6989586621680307748"><span id="local-6989586621680307750"><span id="local-6989586621680307752"><span id="local-6989586621680307754"><span id="local-6989586621680307756"><span id="local-6989586621680307758"><span id="local-6989586621680307760"><span id="local-6989586621680307762"><span id="local-6989586621680307764"><span id="local-6989586621680307766"><span id="local-6989586621680307768"><span id="local-6989586621680307770"><span id="local-6989586621680307772"><span id="local-6989586621680307775"><span id="local-6989586621680307777"><span id="local-6989586621680307779"><span id="local-6989586621680307781"><span id="local-6989586621680307783"><span id="local-6989586621680307785"><span id="local-6989586621680307787"><span id="local-6989586621680307789"><span id="local-6989586621680307791"><span id="local-6989586621680307793"><span id="local-6989586621680307795"><span id="local-6989586621680307797"><span id="local-6989586621680307799"><span id="local-6989586621680307801"><span id="local-6989586621680307803"><span id="local-6989586621680307805"><span id="local-6989586621680307807"><span id="local-6989586621680307809"><span id="local-6989586621680307812"><span id="local-6989586621680307814"><span id="local-6989586621680307816"><span id="local-6989586621680307818"><span id="local-6989586621680307820"><span id="local-6989586621680307822"><span id="local-6989586621680307824"><span id="local-6989586621680307826"><span id="local-6989586621680307828"><span id="local-6989586621680307830"><span id="local-6989586621680307832"><span id="local-6989586621680307834"><span id="local-6989586621680307836"><span id="local-6989586621680307838"><span id="local-6989586621680307840"><span id="local-6989586621680307842"><span id="local-6989586621680307845"><span id="local-6989586621680307847"><span id="local-6989586621680307849"><span id="local-6989586621680307851"><span id="local-6989586621680307853"><span id="local-6989586621680307855"><span id="local-6989586621680307857"><span id="local-6989586621680307859"><span id="local-6989586621680307861"><span id="local-6989586621680307863"><span id="local-6989586621680307865"><span id="local-6989586621680307867"><span id="local-6989586621680307869"><span id="local-6989586621680307871"><span id="local-6989586621680307873"><span id="local-6989586621680307875"><span id="local-6989586621680307877"><span id="local-6989586621680307879"><span id="local-6989586621680307882"><span id="local-6989586621680307884"><span id="local-6989586621680307886"><span id="local-6989586621680307888"><span id="local-6989586621680307890"><span id="local-6989586621680307892"><span id="local-6989586621680307894"><span id="local-6989586621680307896"><span id="local-6989586621680307898"><span id="local-6989586621680307900"><span id="local-6989586621680307902"><span id="local-6989586621680307904"><span id="local-6989586621680307906"><span id="local-6989586621680307908"><span id="local-6989586621680307910"><span id="local-6989586621680307912"><span id="local-6989586621680307914"><span id="local-6989586621680307916"><span id="local-6989586621680307918"><span id="local-6989586621680307921"><span id="local-6989586621680307923"><span id="local-6989586621680307925"><span id="local-6989586621680307927"><span id="local-6989586621680307929"><span id="local-6989586621680307931"><span id="local-6989586621680307933"><span id="local-6989586621680307935"><span id="local-6989586621680307937"><span id="local-6989586621680307939"><span id="local-6989586621680307941"><span id="local-6989586621680307943"><span id="local-6989586621680307945"><span id="local-6989586621680307947"><span id="local-6989586621680307949"><span id="local-6989586621680307951"><span id="local-6989586621680307953"><span id="local-6989586621680307955"><span id="local-6989586621680307958"><span id="local-6989586621680307960"><span id="local-6989586621680307962"><span id="local-6989586621680307964"><span id="local-6989586621680307966"><span id="local-6989586621680307968"><span id="local-6989586621680307970"><span id="local-6989586621680307972"><span id="local-6989586621680307974"><span id="local-6989586621680307976"><span id="local-6989586621680307978"><span id="local-6989586621680307980"><span id="local-6989586621680307982"><span id="local-6989586621680307984"><span id="local-6989586621680307986"><span id="local-6989586621680307988"><span id="local-6989586621680307991"><span id="local-6989586621680307993"><span id="local-6989586621680307995"><span id="local-6989586621680307997"><span id="local-6989586621680307999"><span id="local-6989586621680308001"><span id="local-6989586621680308003"><span id="local-6989586621680308005"><span id="local-6989586621680308007"><span id="local-6989586621680308009"><span id="local-6989586621680308011"><span id="local-6989586621680308013"><span id="local-6989586621680308015"><span id="local-6989586621680308017"><span id="local-6989586621680308019"><span id="local-6989586621680308021"><span id="local-6989586621680308023"><span id="local-6989586621680308025"><span id="local-6989586621680308028"><span id="local-6989586621680308030"><span id="local-6989586621680308032"><span id="local-6989586621680308034"><span id="local-6989586621680308036"><span id="local-6989586621680308038"><span id="local-6989586621680308040"><span id="local-6989586621680308042"><span id="local-6989586621680308044"><span id="local-6989586621680308046"><span id="local-6989586621680308047"><span id="local-6989586621680308048"><span id="local-6989586621680308049"><span id="local-6989586621680308050"><span id="local-6989586621680308051"><span id="local-6989586621680308052"><span id="local-6989586621680308053"><span id="local-6989586621680308054"><span id="local-6989586621680308055"><span id="local-6989586621680308056"><span id="local-6989586621680308057"><span id="local-6989586621680308058"><span id="local-6989586621680308059"><span id="local-6989586621680308060"><span id="local-6989586621680308061"><span id="local-6989586621680308062"><span id="local-6989586621680308063"><span id="local-6989586621680308064"><span id="local-6989586621680308065"><span id="local-6989586621680308066"><span id="local-6989586621680308067"><span id="local-6989586621680308068"><span id="local-6989586621680308069"><span id="local-6989586621680308070"><span id="local-6989586621680308071"><span id="Unique"><span id="EntityField"><span id="PersistEntityBackend"><span id="HerokuAddOn"><span id="User"><span id="UserChallenge"><span id="UpdateUserDataRootEvent"><span id="LoosePin"><span id="Domain"><span id="App"><span id="CreateAppEvent"><span id="DestroyAppEvent"><span id="SetAppCIDEvent"><span id="AppDomain"><span id="AssociateAppDomainEvent"><span id="Key"><span id="DissociateAppDomainEvent"><span class="hs-identifier">share</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="hs-identifier">mkPersist</span><span>       </span><span class="hs-identifier">sqlSettings</span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkDeleteCascade</span><span> </span><span class="hs-identifier">sqlSettings</span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-identifier">mkMigrate</span><span>       </span><span class="hs-string">&quot;migrateAll&quot;</span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">]</span><span> </span><span class="">[persistLowerCase|
HerokuAddOn
  uuid       UUID         sqltype=uuid
  region     Region Maybe

  insertedAt UTCTime
  modifiedAt UTCTime

  UniqueUUID uuid

  deriving Show Eq

--------------------------------------------------------------------------------

User
  publicKey     Key.Public    Maybe
  exchangeKeys  [RSA.PublicKey]        default=[]

  email         Email         Maybe
  username      Username

  role          Role
  active        Bool
  verified      Bool                 default=false

  dataRoot      CID
  dataRootSize  Bytes

  herokuAddOnId HerokuAddOnId Maybe
  secretDigest  SecretDigest  Maybe

  insertedAt    UTCTime
  modifiedAt    UTCTime

  UniqueUsername  username
  UniquePublicKey publicKey !force
  -- UniqueEmail     email     !force -- FIXME

  deriving Show Eq

--------------------------------------------------------------------------------

UserChallenge
  userId    UserId
  hash      Challenge

  UniqueUserId    userId
  UniqueChallenge hash

  deriving Show Eq

------------
-- Events --
------------

UpdateUserDataRootEvent
  userId          UserId

  newDataRoot     CID
  newDataRootSize Bytes

  insertedAt      UTCTime

  deriving Show Eq

--------------------------------------------------------------------------------

LoosePin
  ownerId    UserId
  cid        CID

  insertedAt UTCTime

  UniqueCidPerUser ownerId cid

  deriving Show Eq

--------------------------------------------------------------------------------

Domain
  domainName DomainName

  ownerId    UserId
  zoneId     AWS.ZoneID

  insertedAt UTCTime
  modifiedAt UTCTime

  Primary      domainName
  UniqueZoneId zoneId

  deriving Show Eq

--------------------------------------------------------------------------------

App
  ownerId     UserId
  cid         CID

  size        Bytes

  insertedAt  UTCTime
  modifiedAt  UTCTime

  deriving Show Eq

------------
-- Events --
------------

CreateAppEvent
  appId       AppId
  ownerId     UserId

  cid         CID
  size        Bytes

  insertedAt  UTCTime

  deriving Show Eq

DestroyAppEvent
  appId      AppId
  insertedAt UTCTime

  deriving Show Eq

SetAppCIDEvent
  appId      AppId

  newCID     CID
  newCIDSize Bytes

  insertedAt UTCTime

  deriving Show Eq

--------------------------------------------------------------------------------

AppDomain
  appId         AppId

  domainName    DomainName
  subdomain     Subdomain Maybe

  isPrimary     Checkmark nullable

  insertedAt    UTCTime

  UniquePrimaryForApp      appId      isPrimary !force
  UniqueSubdomainPerDomain domainName subdomain !force

  deriving Show Eq

------------
-- Events --
------------

AssociateAppDomainEvent
  appId      AppId

  domainName DomainName
  subdomain  Subdomain Maybe

  insertedAt UTCTime

  deriving Show Eq

DissociateAppDomainEvent
  appId      AppId

  domainName DomainName
  subdomain  Subdomain Maybe

  insertedAt UTCTime

  deriving Show Eq
|]</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">------------</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- UserId --</span><span>
</span><span id="line-227"></span><span class="hs-comment">------------</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680306042"><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621680306040"><span class="annot"><span class="annottext">arbitrary :: Gen (Key User)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Key User
forall record.
ToBackendKey SqlBackend record =&gt;
Int64 -&gt; Key record
</span><span class="hs-identifier hs-var">toSqlKey</span></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Key User) -&gt; Gen Int64 -&gt; Gen (Key User)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Gen Int64
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680306034"><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>  </span><span id="local-6989586621680306032"><span class="annot"><span class="annottext">display :: Key User -&gt; Utf8Builder
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">display</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key User -&gt; Utf8Builder
forall a. Show a =&gt; a -&gt; Utf8Builder
</span><span class="hs-identifier hs-var">displayShow</span></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Fission.Security.html#Digestable"><span class="hs-identifier hs-type">Digestable</span></a></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-236"></span><span>  </span><span id="local-6989586621680306027"><span class="annot"><span class="annottext">digest :: Key User -&gt; Text
</span><a href="Fission.Security.html#digest"><span class="hs-identifier hs-var hs-var hs-var hs-var">digest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Digestable a =&gt; a -&gt; Text
</span><a href="Fission.Security.html#digest"><span class="hs-identifier hs-var">digest</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text) -&gt; (Key User -&gt; Text) -&gt; Key User -&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Key User -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Fission.Internal.UTF8.html#textShow"><span class="hs-identifier hs-var">UTF8.textShow</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSchema</span></span><span> </span><span class="annot"><a href="Fission.Models.html#UserId"><span class="hs-identifier hs-type">UserId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-239"></span><span>  </span><span id="local-6989586621680306021"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (Key User) -&gt; Declare (Definitions Schema) NamedSchema
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SwaggerType 'SwaggerKindSchema)
 -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
-&gt; Schema -&gt; Identity Schema
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe (SwaggerType 'SwaggerKindSchema)
  -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
 -&gt; Schema -&gt; Identity Schema)
-&gt; SwaggerType 'SwaggerKindSchema -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">SwaggerType 'SwaggerKindSchema
forall (t :: SwaggerKind *). SwaggerType t
</span><span class="hs-identifier hs-var">SwaggerInteger</span></span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; NamedSchema) -&gt; NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="hs-string">&quot;UserId&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span>      </span><span class="annot"><span class="annottext">NamedSchema
-&gt; (NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; Declare (Definitions Schema) NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-244"></span><span>
</span><span id="line-245"></span><span class="hs-comment">-----------</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- AppId --</span><span>
</span><span id="line-247"></span><span class="hs-comment">-----------</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680306012"><span class="annot"><span class="hs-identifier hs-type">Arbitrary</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621680306011"><span class="annot"><span class="annottext">arbitrary :: Gen (Key App)
</span><a href="#local-6989586621680306011"><span class="hs-identifier hs-var hs-var hs-var hs-var">arbitrary</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; Key App
forall record.
ToBackendKey SqlBackend record =&gt;
Int64 -&gt; Key record
</span><span class="hs-identifier hs-var">toSqlKey</span></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; Key App) -&gt; Gen Int64 -&gt; Gen (Key App)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Gen Int64
forall a. Arbitrary a =&gt; Gen a
</span><span class="hs-identifier hs-var">arbitrary</span></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSchema</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621680306009"><span class="annot"><span class="annottext">declareNamedSchema :: Proxy (Key App) -&gt; Declare (Definitions Schema) NamedSchema
</span><a href="#local-6989586621680306009"><span class="hs-identifier hs-var hs-var hs-var hs-var">declareNamedSchema</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><span class="annottext">Schema
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-255"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; Schema) -&gt; Schema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SwaggerType 'SwaggerKindSchema)
 -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
-&gt; Schema -&gt; Identity Schema
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe (SwaggerType 'SwaggerKindSchema)
  -&gt; Identity (Maybe (SwaggerType 'SwaggerKindSchema)))
 -&gt; Schema -&gt; Identity Schema)
-&gt; SwaggerType 'SwaggerKindSchema -&gt; Schema -&gt; Schema
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">SwaggerType 'SwaggerKindSchema
forall (t :: SwaggerKind *). SwaggerType t
</span><span class="hs-identifier hs-var">SwaggerInteger</span></span><span>
</span><span id="line-256"></span><span>      </span><span class="annot"><span class="annottext">Schema -&gt; (Schema -&gt; NamedSchema) -&gt; NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text -&gt; Schema -&gt; NamedSchema
</span><span class="hs-identifier hs-var">NamedSchema</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Maybe Text
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="hs-string">&quot;AppId&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><span class="annottext">NamedSchema
-&gt; (NamedSchema -&gt; Declare (Definitions Schema) NamedSchema)
-&gt; Declare (Definitions Schema) NamedSchema
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">NamedSchema -&gt; Declare (Definitions Schema) NamedSchema
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToParamSchema</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621680306006"><span class="annot"><span class="annottext">toParamSchema :: Proxy (Key App) -&gt; ParamSchema t
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toParamSchema</span></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ParamSchema t
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">ParamSchema t -&gt; (ParamSchema t -&gt; ParamSchema t) -&gt; ParamSchema t
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">|&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SwaggerType t) -&gt; Identity (Maybe (SwaggerType t)))
-&gt; ParamSchema t -&gt; Identity (ParamSchema t)
forall s a. HasType s a =&gt; Lens' s a
</span><span class="hs-identifier hs-var">type_</span></span><span> </span><span class="annot"><span class="annottext">((Maybe (SwaggerType t) -&gt; Identity (Maybe (SwaggerType t)))
 -&gt; ParamSchema t -&gt; Identity (ParamSchema t))
-&gt; SwaggerType t -&gt; ParamSchema t -&gt; ParamSchema t
forall s t a b. ASetter s t a (Maybe b) -&gt; b -&gt; s -&gt; t
</span><span class="hs-operator hs-var">?~</span></span><span> </span><span class="annot"><span class="annottext">SwaggerType t
forall (t :: SwaggerKind *). SwaggerType t
</span><span class="hs-identifier hs-var">SwaggerString</span></span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680306001"><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621680306000"><span class="annot"><span class="annottext">display :: Key App -&gt; Utf8Builder
</span><a href="#local-6989586621680306000"><span class="hs-identifier hs-var hs-var hs-var hs-var">display</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key App -&gt; Utf8Builder
forall a. Show a =&gt; a -&gt; Utf8Builder
</span><span class="hs-identifier hs-var">displayShow</span></span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680305997"><span class="annot"><span class="hs-identifier hs-type">ToJSONKey</span></span><span> </span><span class="annot"><a href="Fission.Models.html#AppId"><span class="hs-identifier hs-type">AppId</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-266"></span><span>  </span><span id="local-6989586621680305995"><span class="annot"><span class="annottext">toJSONKey :: ToJSONKeyFunction (Key App)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSONKey</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Key App -&gt; Text) -&gt; ToJSONKeyFunction (Key App)
forall a. (a -&gt; Text) -&gt; ToJSONKeyFunction a
</span><span class="hs-identifier hs-var">toJSONKeyText</span></span><span> </span><span class="annot"><span class="annottext">Key App -&gt; Text
forall a. Display a =&gt; a -&gt; Text
</span><span class="hs-identifier hs-var">textDisplay</span></span><span>
</span><span id="line-267"></span></pre></body></html>